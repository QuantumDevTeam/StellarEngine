<Project Sdk="Microsoft.NET.Sdk">
    <!-- Versions -->
    <Import Project="..\..\..\Data\version.props"/>

    <PropertyGroup>
        <OutputType>Exe</OutputType>
        <TargetFramework>net10.0</TargetFramework>
        
        <Authors>QuantumDev</Authors>
        <Version>$(StellarToolsVersion)</Version>
        <AssemblyVersion>$(Version)</AssemblyVersion>

        <IsPackable>true</IsPackable>
        <PackageId>Stellar.Tools</PackageId>
        <Description>StellarEngine development tools</Description>
        <PackageVersion>$(Version</PackageVersion>
        
        <PackAsTool>true</PackAsTool>
        <ToolCommandName>stellar</ToolCommandName>

        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>

        <InvariantGlobalization>true</InvariantGlobalization>
        <PublishAot>true</PublishAot>
        <PublishSingleFile>true</PublishSingleFile>
        <SelfContained>true</SelfContained>
    </PropertyGroup>

    <ItemGroup>
        <PackageReference Include="Spectre.Console" Version="0.49.1"/>
        <PackageReference Include="Spectre.Console.Cli" Version="0.49.1"/>
    </ItemGroup>

    <Target Name="GenerateStellarOrchesterAttribute" BeforeTargets="CoreCompile">
        <WriteLinesToFile
                File="$(IntermediateOutputPath)Stellar.AssemblyInfo.g.cs"
                Lines="//------------------------------------------------------------------------------
// This code automatically generated by Stellar.Tools build
//------------------------------------------------------------------------------

using System.Reflection%3B
[assembly: AssemblyMetadata(&quot;StellarOrchesterVersion&quot;, &quot;$(StellarOrchesterVersion)&quot;)]
"
                Overwrite="true"/>

        <ItemGroup>
            <Compile Include="$(IntermediateOutputPath)Stellar.AssemblyInfo.g.cs"/>
        </ItemGroup>
    </Target>
</Project>